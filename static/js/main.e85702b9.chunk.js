(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){e.exports={Hidden:"AddRecipeForm_Hidden__OGiSM",FormBackground:"AddRecipeForm_FormBackground__3pKLI",FormContent:"AddRecipeForm_FormContent__pUukJ",TitleArea:"AddRecipeForm_TitleArea__2Tek7",BasicData:"AddRecipeForm_BasicData__3b9C7",Ingredients:"AddRecipeForm_Ingredients__34wV7",Directions:"AddRecipeForm_Directions__GtSuC",Submit:"AddRecipeForm_Submit__1my79",IngredientHolder:"AddRecipeForm_IngredientHolder__38vCp",Exit:"AddRecipeForm_Exit__2L71A",Cross:"AddRecipeForm_Cross__20UdL"}},36:function(e,t,n){e.exports={Button:"RecipeListPage_Button__Ycz9O",Center:"RecipeListPage_Center__2QHiy"}},54:function(e,t,n){e.exports={Title:"RecipeDetailPage_Title__3sIMR"}},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(22),i=n.n(a),s=n(16),o=(n(59),n(60),n(7)),l=n(10),d=n(106),j=n(100),u=n(48),b=n(101),h=n(49),p=n(108),O=n(47),x=n.n(O).a.create({baseURL:"https://exercise.cngroup.dk/api/",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),m=n(1),g={isLoading:!1,data:null,error:null};function v(){var e=Object(r.useState)(g),t=Object(l.a)(e,2),n=t[0],c=n.data,a=n.isLoading,i=n.error,s=t[1],o=Object(r.useState)(""),O=Object(l.a)(o,2),v=O[0],f=O[1];function _(){s({isLoading:!0,data:null,error:null})}function C(e){var t=e.data;s({isLoading:!1,data:t,error:null})}function N(e){var t=e.message;s({isLoading:!1,data:null,error:t})}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"API Test Page"}),Object(m.jsxs)(d.a,{inline:!0,children:[Object(m.jsx)(j.a,{variant:"primary",onClick:function(){_(),x.get("/recipes").then(C).catch(N)},children:"Load List"}),Object(m.jsx)("span",{className:"px-3",children:"or"}),Object(m.jsxs)(u.a,{children:[Object(m.jsxs)(b.a,{children:[Object(m.jsx)(h.a,{type:"text",value:v,onChange:function(e){return f(e.target.value)},placeholder:"Enter Recipe ID",style:{width:"250px"}}),Object(m.jsx)(b.a.Append,{children:Object(m.jsx)(j.a,{variant:"outline-secondary",onClick:function(){_(),x.get("/recipes/".concat(v)).then(C).catch(N)},disabled:!v,children:"Load Detail"})})]}),Object(m.jsx)("span",{className:"mx-3",children:"or"}),Object(m.jsx)(j.a,{variant:"outline-secondary",onClick:function(){s(g),f("")},children:"Reset"})]})]}),Object(m.jsx)("br",{}),a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("i",{className:"fa fa-spinner fa-spin"})," Loading\u2026"," "]}),!a&&i&&Object(m.jsx)(p.a,{variant:"danger",children:Object(m.jsx)(p.a.Heading,{children:i})}),!a&&c&&Object(m.jsx)("pre",{children:JSON.stringify(c,null,2)})]})}var f=n(102);function _(){return Object(m.jsxs)(f.a,{className:"text-center",children:[Object(m.jsx)("h1",{children:"Nenalezeno!"}),Object(m.jsx)("h4",{children:"Toto nen\xed str\xe1nka, kterou hled\xe1\u0161."}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)(s.b,{to:"/",className:"btn btn-primary btn-lg",role:"button",children:"P\u0159ej\xedt na domovskou str\xe1nku"})})]})}var C=n(103),N=n(104),y=n(109);function k(e){var t=e.title,n=e.preparationTime,r=e.slug;return Object(m.jsx)(y.a,{style:{minWidth:"18rem"},className:"mt-4",children:Object(m.jsxs)(s.b,{to:"/recept/".concat(r),children:[Object(m.jsx)(y.a.Img,{src:"/images/food-placeholder.png"}),Object(m.jsxs)("div",{className:"m-1 text-center",children:[Object(m.jsx)(y.a.Title,{children:t}),Object(m.jsxs)("small",{children:[Object(m.jsx)("span",{className:"fa fa-clock-o"}),n&&" ".concat(n," min")]})]})]})})}var F=function(e){var t=e.recipes;return Object(m.jsx)(C.a,{children:Object(m.jsx)(N.a,{children:t.map((function(e){var t=e._id,n=e.title,r=e.time,c=e.slug;return Object(m.jsx)(k,{title:n,time:r,slug:c},t)}))})})};var H=function(e){var t=e.recipe,n=e.setRecipe;return Object(r.useEffect)((function(){console.log(t)}),[t]),Object(m.jsx)(d.a,{children:Object(m.jsxs)(d.a.Group,{controlId:"name",children:[Object(m.jsx)(d.a.Label,{children:"Recept"}),Object(m.jsx)(d.a.Control,{type:"text",placeholder:"Napi\u0161te n\xe1zev receptu",value:t,onChange:function(e){n(e.target.value)}})]})})},R=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],j=e(c);return{value:c,isValid:j,hasError:!j&&o,changeHandler:function(e){a(e.target.value)},blurHandler:function(){d(!0)},reset:function(){a(""),d(!1)}}},L=n(14),B=n.n(L),S=n(53),A=n.n(S),E=function(e){var t=R((function(e){return""!==e.trim()})),n=t.value,c=t.isValid,a=t.hasError,i=t.changeHandler,s=t.blurHandler,o=t.reset,d=R((function(e){return/^\d+$/.test(e)})),j=d.value,u=d.isValid,b=d.hasError,h=d.changeHandler,p=d.blurHandler,O=d.reset,g=R((function(e){return/^\d+$/.test(e)})),v=g.value,f=(g.isValid,g.hasError),_=g.changeHandler,C=g.blurHandler,N=g.reset,y=R((function(e){return""!==e.trim()})),k=y.value,F=(y.isValid,y.hasError),H=y.changeHandler,L=y.blurHandler,S=y.reset,E=R((function(e){return/^\d+$/.test(e)})),P=E.value,D=(E.isValid,E.hasError,E.changeHandler),I=E.blurHandler,V=(E.reset,R((function(e){return""!==e.trim()}))),T=V.value,w=(V.isValid,V.hasError,V.changeHandler),U=V.blurHandler,z=(V.reset,R((function(e){return""!==e.trim()}))),J=z.value,M=(z.isValid,z.hasError,z.changeHandler),G=z.blurHandler,Z=(z.reset,R((function(e){return""!==e.trim()}))),$=Z.value,Y=Z.isValid,K=Z.hasError,Q=Z.changeHandler,W=Z.blurHandler,q=Z.reset,X=Object(r.useState)(!1),ee=Object(l.a)(X,2),te=(ee[0],ee[1],Object(r.useState)(null)),ne=Object(l.a)(te,2),re=(ne[0],ne[1],A()(n)),ce={title:n,preparationTime:j,servingCount:v,directions:$,ingredients:[],slug:re,lastModifiedDate:new Date},ae=!c||!u||!Y;return Object(m.jsx)("div",{className:"".concat(B.a.FormBackground," ").concat(e.hidden?B.a.Hidden:""),children:Object(m.jsxs)("form",{id:"form1",className:B.a.FormContent,onSubmit:function(){var t=JSON.stringify(ce);console.log(t),ae||(x.post("./recipes/".concat(re),t).then((function(){console.log("New recipe created!")})).catch((function(e){console.log(e)})),o(),O(),N(),S(),q(),e.changeFormVisibility())},children:[Object(m.jsxs)("div",{className:"".concat(a&&"invalid"," ").concat(B.a.TitleArea),children:[Object(m.jsx)("h2",{children:""===n.trim()?"Napi\u0161te n\xe1zev receptu":n}),Object(m.jsx)("input",{type:"text",value:n,onChange:i,onBlur:s}),a&&Object(m.jsx)("p",{className:"error-text",children:"Recept mus\xed m\xedt jm\xe9no!"})]}),Object(m.jsxs)("div",{className:B.a.BasicData,children:[Object(m.jsx)("legend",{children:"Z\xe1kladn\xed \xfadaje"}),Object(m.jsxs)("div",{className:b?"invalid":"",children:[Object(m.jsx)("h5",{children:"Doba p\u0159\xedpravy (v minut\xe1ch)"}),Object(m.jsx)("input",{type:"number",min:"1",value:j,onChange:h,onBlur:p})]}),Object(m.jsxs)("div",{className:f?"invalid":"",children:[Object(m.jsx)("h5",{children:"Po\u010det porc\xed"}),Object(m.jsx)("input",{type:"number",min:"1",value:v,onChange:_,onBlur:C})]}),Object(m.jsxs)("div",{className:F?"invalid":"",children:[Object(m.jsx)("h5",{children:"P\u0159\xedloha"}),Object(m.jsx)("input",{type:"text",value:k,onChange:H,onBlur:L})]})]}),Object(m.jsxs)("div",{className:B.a.Ingredients,children:[Object(m.jsx)("legend",{children:"Ingredience"}),Object(m.jsx)("h5",{children:"P\u0159idat ingredienci"}),Object(m.jsx)("input",{type:"number",placeholder:"Mno\u017estv\xed",min:"1",value:P,onChange:D,onBlur:I}),Object(m.jsx)("input",{type:"text",placeholder:"Jednotka",value:T,onChange:w,onBlur:U}),Object(m.jsx)("input",{type:"text",placeholder:"N\xe1zev",value:J,onChange:M,onBlur:G}),Object(m.jsx)("button",{children:"\u271a P\u0159idat"})]}),Object(m.jsxs)("div",{className:"".concat(B.a.Directions," ").concat(K?"invalid":""),children:[Object(m.jsx)("legend",{children:"Postup"}),Object(m.jsx)("textarea",{form:"form1",name:"",id:"",cols:"30",rows:"10",placeholder:"Zadejte postup",value:$,onChange:Q,onBlur:W}),K&&Object(m.jsx)("p",{className:"error-text",children:"Vypl\u0148te postup!"})]}),Object(m.jsx)("input",{type:"submit",value:"\u2611 Ulo\u017eit",disabled:ae,className:B.a.Submit}),Object(m.jsx)("button",{className:B.a.Exit,onClick:e.changeFormVisibility,children:Object(m.jsx)("h1",{className:B.a.Cross,children:"\u2715"})})]})})},P=n(36),D=n.n(P);function I(){var e=Object(r.useState)({data:[],error:"",loading:!0}),t=Object(l.a)(e,2),n=t[0],c=n.data,a=n.error,i=n.loading,s=t[1],o=Object(r.useState)(""),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(r.useState)(!1),h=Object(l.a)(b,2),p=h[0],O=h[1],g=c.filter((function(e){return e.title.toLowerCase().includes(j.toLowerCase())}));if(Object(r.useEffect)((function(){x.get("/recipes").then((function(e){var t=e.data;console.log(t),s({data:t,error:"",loading:!1})})).catch((function(){s({data:[],error:"N\u011bco se pokazilo...",loading:!1})}))}),[]),i)return"Loading...";if(a)return a;var v=function(){O(!p)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Recepty"}),Object(m.jsx)("div",{className:D.a.Center,children:Object(m.jsx)("button",{className:D.a.Button,onClick:v,children:"\u271a P\u0159idat recept"})}),Object(m.jsx)(E,{hidden:!p,changeFormVisibility:v}),Object(m.jsx)(H,{recipe:j,setRecipe:u}),Object(m.jsx)(F,{recipes:g})]})}var V=n(54),T=n.n(V);function w(){var e=Object(o.f)().slug,t=Object(r.useState)({data:{},error:"",loading:!0}),n=Object(l.a)(t,2),c=n[0],a=c.data,i=c.error,s=c.loading,d=n[1];if(console.log(e),Object(r.useEffect)((function(){x.get("/recipes/".concat(e)).then((function(e){var t=e.data;d({data:t,error:"",loading:!1})})).catch((function(){d({data:{},error:"N\u011bco se pokazilo...",loading:!1})})),console.log(a.directions)}),[e,a.directions]),s)return"Loading...";if(i)return i;var j=a.directions.split("\n");return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:T.a.Title,children:a.title}),Object(m.jsxs)("h2",{children:["D\xe9lka p\u0159\xedpravy: ",a.preparationTime," minut"]}),Object(m.jsx)("h3",{children:a.servingCount&&"Po\u010det porc\xed: ".concat(a.servingCount)}),Object(m.jsxs)("span",{children:["Ingredience:"," ",Object(m.jsx)("ul",{children:a.ingredients.map((function(e){return Object(m.jsxs)("li",{children:[e.name," ",e.amount,e.amountUnit&&e.amountUnit.length>2?" ".concat(e.amountUnit):e.amountUnit]},e._id)}))})]}),Object(m.jsxs)("div",{children:["Postup:"," ",j.map((function(e){return Object(m.jsx)("p",{children:e})}))]})]})}function U(){return Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",component:I}),Object(m.jsx)(o.a,{path:"/recept/:slug",component:w}),Object(m.jsx)(o.a,{path:"/api-test",component:v}),Object(m.jsx)(o.a,{path:"*",component:_})]})}var z=n(105),J=n(107);var M=function(){return Object(m.jsx)(J.a,{bg:"dark",variant:"dark",children:Object(m.jsx)(z.a,{children:Object(m.jsx)(J.a.Brand,{href:"/",children:"Cookbook \u2302"})})})};var G=function(){return Object(m.jsxs)(z.a,{as:"footer",className:"page-footer",children:[Object(m.jsx)("hr",{}),Object(m.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," \xb7 CN Group CZ s.r.o."]})]})};function Z(e){var t=e.children;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(M,{}),Object(m.jsx)(z.a,{className:"mt-4",children:t}),Object(m.jsx)(G,{})]})}n(97);var $=function(){return Object(m.jsx)(s.a,{children:Object(m.jsx)(Z,{children:Object(m.jsx)(U,{})})})};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)($,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.e85702b9.chunk.js.map